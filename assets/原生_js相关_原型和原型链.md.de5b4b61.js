import{_ as s,o as n,c as o,V as a}from"./chunks/framework.c406a814.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"原型和原型链","slug":"原型和原型链","link":"#原型和原型链","children":[]},{"level":2,"title":"原型","slug":"原型","link":"#原型","children":[]},{"level":2,"title":"原型链","slug":"原型链","link":"#原型链","children":[]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"relativePath":"原生/js相关/原型和原型链.md","filePath":"原生/js相关/原型和原型链.md"}'),l={name:"原生/js相关/原型和原型链.md"},e=a(`<h2 id="原型和原型链" tabindex="-1">原型和原型链 <a class="header-anchor" href="#原型和原型链" aria-label="Permalink to &quot;原型和原型链&quot;">​</a></h2><h2 id="原型" tabindex="-1">原型 <a class="header-anchor" href="#原型" aria-label="Permalink to &quot;原型&quot;">​</a></h2><p>javascript 常被描述为一种基于原型的语言——每个对象拥有一个原型对象</p><p>当视图访问一个对象的属性时，他不仅仅在该对象上搜寻，还会搜寻该对象的原型，以及该对象的原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾</p><p>准确地说，这些属性和方法定义在<code>Object</code>的构造器函数(<code>constructor functions</code>)之上的<code>prototype</code>属性上，而非实例对象本身</p><p>下面举个例子:<br> 函数可以有属性，每个函数都有一个特殊的属性叫做原型<code>prototype</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomething</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">doSomething</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>控制台输出</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">doSomething</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">__proto__</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">hasOwnProperty</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">hasOwnProperty</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">isPrototypeOf</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">isPrototypeOf</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">propertyIsEnumerable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">propertyIsEnumerable</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">toLocaleString</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">toLocaleString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">toString</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ƒ</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">valueOf</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面这个对象，就是大家常说的原型对象，可以看到，原型对象有一个自有属性<code>constructor</code>，这个属性指向该函数</p><h2 id="原型链" tabindex="-1">原型链 <a class="header-anchor" href="#原型链" aria-label="Permalink to &quot;原型链&quot;">​</a></h2><p>原型对象也可能拥有原型，并从中继承方法和属性，一层一层，以此类推。这种关系常被称为原型链(prototype chain)，它解释了为何一个对象会拥有定义在其他对象中的属性和方法</p><p>在对象实例和它的构造器之间建立一个链接(它时<code>__proto__</code>属性，是从构造函数的 prototype 属性派生的)，之后通过上溯原型链，在构造器中找到这些属性和方法</p><p>举例如下:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">18</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">sayName</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 第二步 创建实例</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">person</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><details class="details custom-block"><summary>分析</summary><ul><li>构造函数<code>Person</code>存在原型对象<code>Person.prototype</code></li><li>构造函数生成实例对象<code>person</code>,<code>person</code>的<code>__proto__</code>指向构造函数<code>Person</code>原型对象</li><li><code>Person.prototype.__proto__</code>指向内置对象，因为<code>Person.prototype</code>是个对象，默认是由<code>Object</code>函数作为类创建的，而<code>Object.prototype</code>为内置对象</li><li><code>Person.__proto__</code>指向内置匿名函数<code>anonymous</code>，因为<code>Person</code>是个函数对象，默认有<code>Function</code>作为类创建</li><li><code>Function.prototype</code>和<code>Function.__proto__</code>同时指向内置匿名函数<code>anonymous</code>，这样原型链的终点就是<code>null</code></li></ul></details><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>首先看几个概念</p><ul><li><code>__proto__</code>作为不同对象之间的桥梁，用来指向创建它的构造函数的原型对象的</li><li>每个对象的<code>__proto__</code>都是指向它的构造函数的原型对象<code>prototype</code>的<code>person.__proto__===Person.prototype</code></li><li>构造函数是一个函数对象，是通过<code>Function</code>构造器产生的<code>Person.__proto__===Function.prototype</code></li><li>原型对象本身是一个普通对象，而普通对象的构造函数都是 Object<code>Person.prototype.__proto__===Object.prototype</code></li><li>所有构造器都是函数对象，函数对象都是<code>Function</code>构造产生的<code>Object.__proto__===Function.prototype</code></li><li>Object 的原型对象也有<code>__proto__</code>属性指向<code>null</code>，<code>null</code>是原型链的顶端<code>Object.protorype.__proto__===null</code></li></ul><p>于是作出总结</p><ul><li>一切对象都是继承自<code>Object</code>对象，<code>Object</code>对象直接继承根源对象<code>null</code></li><li>一切的函数对象(包括<code>Object</code>对象)，都是继承自<code>Function</code>对象</li><li><code>Object</code>对象直接继承自<code>Function</code>对象</li><li><code>Function</code>对象的<code>__proto</code>会指向自己的原型对象，最终还是继承自<code>Object</code>对象</li></ul>`,21),p=[e];function c(t,r,F,i,y,d){return n(),o("div",null,p)}const _=s(l,[["render",c]]);export{u as __pageData,_ as default};
