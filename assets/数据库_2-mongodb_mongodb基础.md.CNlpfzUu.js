import{_ as e,c as a,o as s,V as n}from"./chunks/framework.BbAbY5cn.js";const m=JSON.parse('{"title":"mongodb基础","description":"","frontmatter":{},"headers":[{"level":2,"title":"mongodb 基本使用","slug":"mongodb-基本使用","link":"#mongodb-基本使用","children":[]},{"level":2,"title":"MongoDB的增删改查","slug":"mongodb的增删改查","link":"#mongodb的增删改查","children":[{"level":3,"title":"mongodb中常见的数据类型（了解）","slug":"mongodb中常见的数据类型-了解","link":"#mongodb中常见的数据类型-了解","children":[]},{"level":3,"title":"添加数据","slug":"添加数据","link":"#添加数据","children":[]},{"level":3,"title":"修改数据","slug":"修改数据","link":"#修改数据","children":[]},{"level":3,"title":"删除数据","slug":"删除数据","link":"#删除数据","children":[]},{"level":3,"title":"查询数据","slug":"查询数据","link":"#查询数据","children":[{"level":4,"title":"比较运算","slug":"比较运算","link":"#比较运算","children":[]},{"level":4,"title":"逻辑运算符","slug":"逻辑运算符","link":"#逻辑运算符","children":[]},{"level":4,"title":"范围运算符","slug":"范围运算符","link":"#范围运算符","children":[]},{"level":4,"title":"正则表达式","slug":"正则表达式","link":"#正则表达式","children":[]},{"level":4,"title":"自定义查村","slug":"自定义查村","link":"#自定义查村","children":[]},{"level":4,"title":"skip,limit","slug":"skip-limit","link":"#skip-limit","children":[]},{"level":4,"title":"投影","slug":"投影","link":"#投影","children":[]},{"level":4,"title":"排序","slug":"排序","link":"#排序","children":[]},{"level":4,"title":"统计","slug":"统计","link":"#统计","children":[]}]}]}],"relativePath":"数据库/2-mongodb/mongodb基础.md","filePath":"数据库/2-mongodb/mongodb基础.md"}'),i={name:"数据库/2-mongodb/mongodb基础.md"},l=n(`<h1 id="mongodb基础" tabindex="-1">mongodb基础 <a class="header-anchor" href="#mongodb基础" aria-label="Permalink to &quot;mongodb基础&quot;">​</a></h1><h2 id="mongodb-基本使用" tabindex="-1">mongodb 基本使用 <a class="header-anchor" href="#mongodb-基本使用" aria-label="Permalink to &quot;mongodb 基本使用&quot;">​</a></h2><ol><li><code>db</code>:当前正在使用的数据库</li><li><code>show dbs</code>:显示所有数据库</li><li><code>show databases</code>:显示所有数据库</li><li><code>use xxxx</code>:调整数据库</li><li><code>db.dropDatabase()</code>:删除数据库</li><li><code>show collections</code>:显示当前数据库中所有的集合（表）</li><li><code>db.createCollection(name,{options})</code>创建集合 <ul><li>capped:是否卷动，size:大小</li></ul></li><li><code>db.collection._name.drop()</code>删除集合</li><li><code>db.collection_name.insert()</code>向集合中添加数据（如果该集合不存在，自动创建）</li><li><code>db.collection_name.isCapped()</code>判断是否有容量上限（判断该集合是否是固定容量的集合）</li></ol><h2 id="mongodb的增删改查" tabindex="-1">MongoDB的增删改查 <a class="header-anchor" href="#mongodb的增删改查" aria-label="Permalink to &quot;MongoDB的增删改查&quot;">​</a></h2><h3 id="mongodb中常见的数据类型-了解" tabindex="-1">mongodb中常见的数据类型（了解） <a class="header-anchor" href="#mongodb中常见的数据类型-了解" aria-label="Permalink to &quot;mongodb中常见的数据类型（了解）&quot;">​</a></h3><ol><li><code>Object ID</code>:主键ID</li><li><code>String</code>:字符串</li><li><code>Boolean</code>:布尔值</li><li><code>Integer</code>:数字</li><li><code>Doube</code>:小数</li><li><code>Arrays</code>:数组</li><li><code>Object</code>:文档（关联其他对象）<code>{sname:李嘉诚，sage:18,class:{cccc}}</code></li><li><code>Null</code>:空值</li><li><code>Timestamp</code>:时间戳</li><li><code>Date</code>:时间日期</li></ol><h3 id="添加数据" tabindex="-1">添加数据 <a class="header-anchor" href="#添加数据" aria-label="Permalink to &quot;添加数据&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.insert({字段: 值,字段: 值})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.insert({name:&#39;test&#39;,age:12})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>如果集合不存在，会自动创建</strong></p><h3 id="修改数据" tabindex="-1">修改数据 <a class="header-anchor" href="#修改数据" aria-label="Permalink to &quot;修改数据&quot;">​</a></h3><ol><li>update更新<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.update({条件},{修改内容},{multi:是否多条数据修改})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>示例<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.nor_col.update({name:&quot;樵夫&quot;},{$set:{title:&quot;alex&quot;,hobby:[&#39;抽烟&#39;,&#39;喝酒&#39;,&#39;烫头&#39;]}},{multi:true});</span></span>
<span class="line"><span>db.nor_col.update({name:&quot;樵夫&quot;},{title:&quot;alex&quot;})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>$set和没有$set的<strong>区别</strong>： <ul><li>$set只会修改当前给出的字段，其他内容保留</li><li>没有$set只会保留当前给出字段，其他内容删除</li><li><code>mutil</code>如果为true，必须用<code>$set</code>,非偶哦则报错</li></ul></li><li>保存(save)<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.save({字段: 值,字段: 值})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>注意，如果<code>save</code>的内容中的<code>_id</code>存在就更新，如果不存在就添加</li></ol><h3 id="删除数据" tabindex="-1">删除数据 <a class="header-anchor" href="#删除数据" aria-label="Permalink to &quot;删除数据&quot;">​</a></h3><ol><li>reomve()<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.remove({条件},{justOne:true|false})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>示例<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.remove({name:&#39;test&#39;},{justOne:true|false})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>deleteOne()删除一条<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.deleteOne({条件})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>deletetMany()删除多条<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.deleteMany({条件})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h3 id="查询数据" tabindex="-1">查询数据 <a class="header-anchor" href="#查询数据" aria-label="Permalink to &quot;查询数据&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.collection_name.find({条件})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>不写条件查询全部</strong></p><h4 id="比较运算" tabindex="-1">比较运算 <a class="header-anchor" href="#比较运算" aria-label="Permalink to &quot;比较运算&quot;">​</a></h4><ol><li>等于：默认是等于判断，Seq</li><li>小于：\`$lt(less than)</li><li>小于等于：\`$lte(less than equal)</li><li>大于：\`$gt(greater than)</li><li>大于等于：\`$gte</li><li>不等于：$ne</li></ol><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>1 db.stu.find({age:28})查询年龄是28岁的学生信息</span></span>
<span class="line"><span>2 db.stu.find({age:{$eq:28}})查询年龄是28岁的学生信息</span></span>
<span class="line"><span>3 db.stu.find({age:{$gt:30}})查询年龄大于30岁的学生</span></span>
<span class="line"><span>4 db.stu.find({age:{$lt:30}})查询年龄小于30岁的学生</span></span>
<span class="line"><span>5 db.stu.find({age:{$gte:38}})查询年龄大于等于30岁的学生</span></span>
<span class="line"><span>6 db.stu.find({fage:{$lte:38}})查询年龄小于等于30岁的学生</span></span>
<span class="line"><span>7 db.stu.find({age:{$ne:38}})查询年龄不等于38的学生</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="逻辑运算符" tabindex="-1">逻辑运算符 <a class="header-anchor" href="#逻辑运算符" aria-label="Permalink to &quot;逻辑运算符&quot;">​</a></h4><ol><li>and,<code>$and:[条件1，条件2]</code><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({$and:[{age:{$gte:33}},{age:{$lt:100}}]})</span></span>
<span class="line"><span>db.stu.find({age:{$gte:33,$lt:100}})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li>or,<code>$or:[条件1，条件2]</code><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({$or:[{age:{$lt:30}},{age:{$gt:100}}]})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>nor<div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({$nor:[{age:{$lte:33}},{name:&quot;朱元璋&quot;}]})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h4 id="范围运算符" tabindex="-1">范围运算符 <a class="header-anchor" href="#范围运算符" aria-label="Permalink to &quot;范围运算符&quot;">​</a></h4><p>使用<code>$in</code>,<code>$nin</code>判断数据是否在某个数组内</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({age:{$in:[33,35,38]}})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="正则表达式" tabindex="-1">正则表达式 <a class="header-anchor" href="#正则表达式" aria-label="Permalink to &quot;正则表达式&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({address: /^北京/})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="自定义查村" tabindex="-1">自定义查村 <a class="header-anchor" href="#自定义查村" aria-label="Permalink to &quot;自定义查村&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({$where:function(){return this.age&gt;50}})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="skip-limit" tabindex="-1">skip,limit <a class="header-anchor" href="#skip-limit" aria-label="Permalink to &quot;skip,limit&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find().skip(2).limit(2) 跳过2个，提取2个，可以做分页</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="投影" tabindex="-1">投影 <a class="header-anchor" href="#投影" aria-label="Permalink to &quot;投影&quot;">​</a></h4><p>投影可以控制最终查询的结果(字段筛选)</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find({},{name:1,age:1})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>需要看的字段给1就可以，注意：<strong>除了_id外，0和1不能共存</strong></p><h4 id="排序" tabindex="-1">排序 <a class="header-anchor" href="#排序" aria-label="Permalink to &quot;排序&quot;">​</a></h4><p><code>sort</code>,1升序，-1降序</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.find().sort({age:1})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="统计" tabindex="-1">统计 <a class="header-anchor" href="#统计" aria-label="Permalink to &quot;统计&quot;">​</a></h4><p><code>count(条件)</code>查询</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>db.stu.count({age:33})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,42),t=[l];function d(o,p,c,r,u,b){return s(),a("div",null,t)}const g=e(i,[["render",d]]);export{m as __pageData,g as default};
