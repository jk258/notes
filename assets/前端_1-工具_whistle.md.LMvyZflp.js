import{_ as s,c as e,o as a,V as i}from"./chunks/framework.jEbjPO8a.js";const b=JSON.parse('{"title":"whistle","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"启动","slug":"启动","link":"#启动","children":[]},{"level":2,"title":"配置代理","slug":"配置代理","link":"#配置代理","children":[{"level":3,"title":"浏览器配置代理","slug":"浏览器配置代理","link":"#浏览器配置代理","children":[]},{"level":3,"title":"安装根证书","slug":"安装根证书","link":"#安装根证书","children":[]}]},{"level":2,"title":"配置请求头跨域","slug":"配置请求头跨域","link":"#配置请求头跨域","children":[]}],"relativePath":"前端/1-工具/whistle.md","filePath":"前端/1-工具/whistle.md"}'),l={name:"前端/1-工具/whistle.md"},t=i(`<h1 id="whistle" tabindex="-1">whistle <a class="header-anchor" href="#whistle" aria-label="Permalink to &quot;whistle&quot;">​</a></h1><p><a href="https://wproxy.org/whistle/install.html" target="_blank" rel="noreferrer">https://wproxy.org/whistle/install.html</a></p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install -g whistle</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h2><p>启动</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>重启</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>停止</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="配置代理" tabindex="-1">配置代理 <a class="header-anchor" href="#配置代理" aria-label="Permalink to &quot;配置代理&quot;">​</a></h2><h3 id="浏览器配置代理" tabindex="-1">浏览器配置代理 <a class="header-anchor" href="#浏览器配置代理" aria-label="Permalink to &quot;浏览器配置代理&quot;">​</a></h3><ul><li>安装 Chrome 代理插件：推荐安装 SwitchyOmega</li><li>Firefox: 地址栏输入访问 about:preferences，找到 Network Proxy，选择 手动代理配置(Manual proxy configuration)，输入代理服务器地址、端口，保存</li><li>移动端需要在设置中配置当前 Wi-Fi 的代理</li></ul><h3 id="安装根证书" tabindex="-1">安装根证书 <a class="header-anchor" href="#安装根证书" aria-label="Permalink to &quot;安装根证书&quot;">​</a></h3><p>安装证书请参考文档: <a href="http://wproxy.org/whistle/webui/https.html" target="_blank" rel="noreferrer">http://wproxy.org/whistle/webui/https.html</a></p><h2 id="配置请求头跨域" tabindex="-1">配置请求头跨域 <a class="header-anchor" href="#配置请求头跨域" aria-label="Permalink to &quot;配置请求头跨域&quot;">​</a></h2><p>新建 values <code>res-cors</code>,</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access-control-allow-origin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Access-Control-Allow-Methods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET,POST,PUT,DELETE,OPTIONS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Access-Control-Allow-Headers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content-Type,Authorization,Content-Length,X-Requested-With&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>添加规则</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://www.****.com resHeaders://{res-cors}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在<code>header</code>传递参数时，会发送预检请求，此时可以用whistle自定义<code>options</code>请求</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://www.****.com includeFilter://m:options / (status 204)(header Access-Control-Allow-Origin &quot;*&quot;)(header Access-Control-Allow-Methods &quot;GET, POST, PUT, DELETE, OPTIONS&quot;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>最终规则如下：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://www.****.com includeFilter://m:options / (status 204)(header Access-Control-Allow-Origin &quot;*&quot;)(header Access-Control-Allow-Methods &quot;GET, POST, PUT, DELETE, OPTIONS&quot;)</span></span>
<span class="line"><span>https://www.****.com resHeaders://{res-cors}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,25),n=[t];function p(r,h,o,d,c,u){return a(),e("div",null,n)}const g=s(l,[["render",p]]);export{b as __pageData,g as default};
